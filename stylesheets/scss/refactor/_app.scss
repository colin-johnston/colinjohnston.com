#content p a:not(.sidebar-button) {
    padding: 0 2px;
    transition: all .25s ease;

    &:visited {
        color: $dark-text-color;
    }

    &:hover,
    &:focus {
        //color:  $content-link;
        color: white;
        background-color: lighten($content-link, 10%);
        //background-color: lighten($main-text-color, 10%);
    }

    &:before,
    &:after {
        content: "";
        padding: 0 -2px;
    }

}

ul.circle li ul,
ul.disc li ul,
ul.square li ul {
    list-style: inherit
}

.case-caption a,
.contact-email,
.label.services a,
.side-nav li a {
    -ms-transition: all .25s ease
}

div.panel h5,
.overview-main h5 {
    font-weight: 700;
    font-size: 1.25em;
    font-family: $display-font;
    text-transform: none;
    //@include type-display;
}

div.panel h5 {
    color: $slate-gray;
    margin-top: 0.375em !important; // TODO refactor
}

div.panel p:last-child {
    margin-bottom: 0.375em !important; // TODO refactor
}

.overview-main h5 {
    text-transform: uppercase;
    margin-top: 1.5em;
    color: $main-text-color;
}

.side-nav li,
figcaption,
p {
    font-family: $text-font;
}


figure {
    display: block;
    position: relative;
    overflow: hidden
}

.js #loader,
.loading,
figcaption {
    position: absolute
}

figcaption {
    font-weight: 400;
    font-size: .75em;
    background: #333;
    background: rgba(0, 0, 0, .75);
    color: #fff;
    padding: 20px;
    width: 100%;
    opacity: 0;
    left: 0;
    bottom: -30%;
    -webkit-transition: all .6s ease;
    -moz-transition: all .6s ease;
    -o-transition: all .6s ease
}

.case-caption a,
.contact-email,
.label.services a,
.side-nav li a {
    -o-transition: all .25s ease;
    -moz-transition: all .25s ease;
    -webkit-transition: all .25s ease
}

figure:hover figcaption {
    opacity: 1;
    bottom: 0
}



.side-nav li,
p {
    line-height: 1.8em
}


.overview-main h3 {
    margin-top: 1.5em;
    border-bottom: 1px solid #aaa;
    padding-bottom: .5em
}

.label.services a,
ul.services a {
    color: #999 !important;
    border-bottom: dotted 1px #999;
}

.overview-main h4 {
    margin-top: 1.5em;
    margin-bottom: 1em;
}

#content p a.to-top {
    font-size: 0.8em;
    font-weight: bold;
    color: $cjd-branding;

    &:before {
        content: "↑";
        margin-right: 0.25em;
    }

    &:visited {
        color: $cjd-branding;
    }

    &:hover,
    &:focus {
        color: white;
        background-color: $cjd-branding;
    }
}

.overview-content li {
    margin-left: 2em;
}

.overview-sidebar ul li {
    font-size: 1em;
    margin-left: 0;
    line-height: 1.8;
    list-style-type: disc;
}

.overview-sidebar ul > ul li {
    list-style-type: circle;
}

#content p.case-caption {
    margin-top: -1em;
    font-size: 1em;
    font-weight: 400;
    margin-bottom: 2.5em;

    span.hide-for-small {
        display: inline !important;
    }
}

@media only screen and (max-width: 480px) {
    #content p.case-caption span.hide-for-small {
        display: none !important;
    }
}

#content p.case-caption-video {
    font-size: 1em;
    font-weight: 400;
    margin-bottom: 2.5em;

    @media only screen and (min-width: 768px) {
        margin-top: -0.75em;
    }
}

#content p.case-caption-video+p {
    margin-top: -1.75em;
}

p.intro,
p.tagline {
    margin: 1.5em 0 3px
}

#content p.case-caption a {
    font-weight: 400;
    color: $content-link;
    transition: all .25s ease;

    &:visited {
        color: $dark-text-color;
    }

    &:hover {
        color: #fff;
    }
}

a:hover {
    color: $content-link;
}

p {
    font-weight: 400;
}

p.tagline {
    font-weight: 700
}

nav {
    @media only screen and (min-width: 768px) {
        margin-top: 1.5em;
    }
}

.side-nav li {
    color: #777;
    font-weight: 700;
    position: relative;
}

ul.side-nav li a {
    color: #78a7e4;
    font-weight: 400;
    position: relative;
    display: inline-block;
}

.side-nav li a:hover,
ul.side-nav li.active a {
    color: #545860;
    font-weight: 400 !important;
    transition: all .25s ease;
}

ul.side-nav li.active a {
    color: #78a7e4;
    &:hover {
        cursor: default;
    }
}

.side-nav li.active:after {
    position: absolute;
    display: inline-block;
    content: url(/images/icon-eye.svg);
    width: 1.1em;
    height: 1.1em;
    margin-top: .225em;
    opacity: 0.5;
    margin-left: 0.5em;
}

.side-nav li.active:hover:after {
    opacity: 0.8;
}

@media only screen and (min-width: 768px) {
    .side-nav li:not(.active) {
        a {
            &:after {
                content: "";
                margin: 0 auto;
                position: absolute;
                opacity: 0;
                bottom: 0.125em;
                left: 50%;
                right: 50%;
                transition: left 250ms ease-in-out, right 250ms ease-in-out;
                margin-top: 0.25em;
                border-bottom: 2px solid lighten($cjd-branding, 25%);
            }

            &:hover:after {
                left: 0;
                right: 0;
                opacity: 1;
            }
        }
    }
}

ul.side-nav {
    padding: 18px 0 0
}

ul.side-nav.topnav {
    padding: 15px 0 0
}

ul.side-nav li {
    margin: 0
}

ul.side-nav li.nav-list-title {
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: 0.05em;
    color: #3a3a3a;
    margin-bottom: 6px;
}

.overview-sidebar .panel {
    background-color: tint($slate-gray, 90);
    border: 1px solid tint($slate-gray, 70);
    margin: 5px 0 22px;
    padding-top: 1.25em;
    padding-bottom: 1.25em;
}

.panel {
    background: #F2F2F2;
    border: 1px solid #E6E6E6;
    margin: 1.5em 0 1.5em;
    padding: 1em 1.5em 0.5em;
}

ol.services,
ul.services {
    font-size: 14px;
    line-height: 1.8;
    margin-bottom: 3px;
    list-style-position: outside;
    margin-left: 17px
}

ul.services>ol,
ul.services>ul {
    margin-left: 17px;
    margin-bottom: 0 !important;
    list-style-position: outside
}

ul.services>ul ul {
    margin-bottom: 0
}



ul.square {
    list-style-type: square
}

ul.circle {
    list-style-type: circle
}

ul.disc {
    list-style-type: disc
}

ul.no-bullet {
    list-style: none
}

ul.large li {
    line-height: 21px
}

ol li ol,
ol li ul {
    margin-left: 20px;
    margin-bottom: 0
}

.label.services {
    display: inline-block;
    margin-top: 17px;
    padding: 4px;
    font-family: inherit;
    background-color: #fafafa;
    color: #999
}

ul.services a {
    font-weight: 400
}

.label.services a {
    transition: all .25s ease
}

.label.services a:hover {
    color: #333 !important;
    border-bottom: dotted 1px #333;
}

.contact-button {
    margin: 3.5em 0;
}

.contact-email {
    color: #fff;
    font-size: 1em;
    font-weight: 400;
    padding: 1em 1.25em;
    // background-color: #999;
    background-color: $slate-gray;
    -border-radius: 9px;
    -moz-border-radius: 9px;
    -webkit-border-radius: 9px;
    border-radius: 9px;
    transition: all .25s ease;
}

.contact-email:hover {
    color: #fff;
    background-color: $content-link;
}

.contact-email:focus {
    color: #fff;
    background-color: #333;
}

p.copyright {
    font-size: .9em;
    color: #999;
    margin-bottom: 0;
    max-width: 120ch;
}

p.copyright a {
    color: #999;
    font-weight: 400
}

p.copyright a:hover {
    color: #000;
    font-weight: 400 !important
}

a.codedirection {
    unicode-bidi: bidi-override;
    direction: rtl
}

@media (max-width:480px) {
    p.intro {
        font-size: 1.25em !important
    }

    ul.side-nav li {
        font-size: 1.125em !important;
    }

    p.tagline {
        font-size: 1em !important;
    }

    .contact-email {
        display: block;
        width: 100% !important
    }

    .contact-button {
        text-align: center;
        margin: 0 0 1.5em
    }

    ul.side-nav li.nav-list-title {
        // fold into fixed setup
        font-size: 14px !important;
    }
}

@media (max-width:767px) {

    p.tagline {
        font-size: .75em
    }

    p.intro {
        margin: 1.5em 0
    }

    #topbar {
        margin: 0 0 5px
    }

    .overview {
        display: table
    }

    .overview-main {}

    .overview-sidebar {
        //display: table-footer-group //float: right;
    }

    .overview-content {
        //display: table-header-group
    }
}

@media only screen and (min-width:768px) {

    p.intro {
        padding-right: 2em
    }

    li.nav-list-title {
        padding-top: 1.5em
    }

    li.nav-list-title:first-child {
        padding-top: 0
    }

    .overview {
        position: relative
    }

    .overview-sidebar {
        float: right;
        width: 45%;
        width: auto;
        padding-left: 2em
    }
}


a.close-panel,
a.open-panel {
    display: none
}

@media only screen and (max-width:767px) {

    .icon-2x,
    a.close-panel {
        font-size: 1.25em
    }

    #page {
        padding-top: 0
    }

    #content {
        min-height: 50em
    }

    h1#logo {
        display: inline-block;
        width: 70%
    }

    .four.columns {
        position: inherit
    }

    nav {
        width: $navwidth;
        left: -$navwidth;
        position: absolute;
        top: 0;
        height: 100%;
        background: $dark-brand-bg;
        z-index: 1000
    }

    ul.side-nav {
        width: 100%;
        padding: 0;
        margin-top: 6em;
    }

    ul.side-nav li {
        font-size: 1.25em;
        font-weight: 300;
        display: block;
        float: none;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        width: 100%;
        margin: 0;
        padding: .5em 1.5em;
        list-style-type: none;
        text-align: left;
        color: #fff;
    }

    a.close-panel,
    a.open-panel {
        display: inline;
        float: right;
    }

    ul.side-nav li:hover {
        background: darken($dark-brand-bg, 5);
    }

    ul.side-nav li a {
        font-weight: 400;
        color: lighten($content-link, 30);
    }

    ul.side-nav li a:hover,
    ul.side-nav li.active a {
        color: #fff;
    }

    a.close-panel {
        color: #FFF;
        position: relative;
        top: 2em;
        right: 1.5em
    }

    a.open-panel {
        margin-top: 6px;
        position: relative;
        color: #777
    }

    a.open-panel span {
        position: absolute;
        left: -1.5em;
    }

    .openNav .o-wrapper {
        left: 0;
        -webkit-transform: translate3d($navwidth, 0, 0);
        -moz-transform: translate3d($navwidth, 0, 0);
        -ms-transform: translate3d($navwidth, 0, 0);
        -o-transform: translate3d($navwidth, 0, 0);
        transform: translate3d($navwidth, 0, 0);
        transition: transform 500ms ease
    }

    .o-wrapper,
    .openNav .o-wrapper {
        -o-transition: -o-transform 500ms ease;
        -moz-transition: -moz-transform 500ms ease;
        -webkit-transition: -webkit-transform 500ms ease
    }

    .o-wrapper {
        left: 0;
        -webkit-transform: translate3d(0, 0, 0);
        -moz-transform: translate3d(0, 0, 0);
        -ms-transform: translate3d(0, 0, 0);
        -o-transform: translate3d(0, 0, 0);
        transform: translate3d(0, 0, 0);
        transition: transform 500ms ease
    }
}

.reveal-modal img {
    margin: 2em 0;
}

.video-wrapper {
    padding-bottom: 56.25%;
    /* 16:9 */
    height: 0;
    margin-bottom: 2em;

    @media only screen and (min-width: 768px) {
        position: relative;
        padding-top: 21px;
    }
}

.video-wrapper iframe {
    position: absolute;
    width: 100%;
    height: 100%;

    @media only screen and (min-width: 768px) {
        top: 0;
        left: 0;
    }

    @media only screen and (max-width:767px) {
        width: 92%;
        left: 4%;
        height: 54.25vw;
        margin-bottom: 2em;
    }
}



// Sidebar button
.sidebar-button {
    color: #fff;
    display: inline-block;
    font-size: 14px;
    font-weight: 400;
    //padding: 1em 1.25em;
    line-height: 1.6;
    margin: 1.5em 0 0;
    padding: 0.25em 0.75em 0.33em;
    background-color: $slate-gray;
    -border-radius: 9px;
    -moz-border-radius: 9px;
    -webkit-border-radius: 9px;
    border-radius: 9px;
    transition: all .25s ease;
    width: 100%;
    text-align: center;

    @media only screen and (max-width: 767px) {
        //padding: 0.5em 0.75em;
    }
}

.sidebar-button:hover {
    color: #fff;
    background-color: #333
}

.sidebar-button:focus {
    color: #fff;
    background-color: #333
}


.activities-label {
    font-size: 0.825em;
    text-transform: uppercase;

}

.bottom-tab-nav-next,
.bottom-tab-nav-prev {
    font-weight: 700;
    margin-top: 2em;
    margin-bottom: 2em;
    font-size: 1.25em;
}

.bottom-tab-nav-next a:focus,
.bottom-tab-nav-prev a:focus {
    color: $content-link;
}

.bottom-tab-nav-next {
    @media only screen and (min-width: 768px) {
        display: inline-block;
        float: right;
    }

    text-align: right;
}

.bottom-tab-nav-next>a {
    &:after {
        //content: "→" !important;
        //margin-right: 0.25em;
    }
}

.bottom-tab-nav-prev {
    @media only screen and (min-width: 768px) {
        display: inline-block;
        float: left;
    }

    text-align: left;
}

.bottom-tab-nav-prev>a {
    &:before {
        //content: "←" !important;
        //margin-left: 0.25em;
    }
}

// widescreen layout
@media only screen and (min-width: 1024px) {
    .row {
        width: 1280px;
        max-width: 92%;
    }

    .four.columns.sidebar {
        width: 30%;
        position: relative;
        display: block;
    }

    // fixed sidebar idea
    // .sidebar-container {
    //     position: fixed;
    //     width: 375px;
    //     max-width: 27.5%;
    // }
    p.intro {}

    #branding {
        width: 241px;
        height: auto;
    }

    .overview {
        max-width: 600px;
    }

    figcaption {
        font-weight: 400;
        font-size: .875em; //.75em
        background: rgba(0, 0, 0, 0.875);
        //background: $dark-brand-bg;
        //background: $dark-bg-color;
        color: #fff;
        padding: 20px;
        width: 100%;
        opacity: 0;
        left: 0;
        bottom: -30%;
        -webkit-transition: all .6s ease;
        -moz-transition: all .6s ease;
        -o-transition: all .6s ease;
    }

    #content .twelve.columns>h2,
    #content .twelve.columns>p,
    #content .twelve.columns>p+p {
        max-width: 600px;
    }
}



.svg-icon {
    display: inline-block;
    width: 1em;
    height: 1em;

    svg {
        fill: currentColor;
        width: 1em;
        height: 1em;
    }
}


body.noscroll {
    overflow: hidden;
}

// lazyloads

.lazyload,
.lazyloading {
    opacity: 0;
}
.lazyloaded {
	opacity: 1;
    // transition: opacity 300ms;
    transition: opacity 1s;
}